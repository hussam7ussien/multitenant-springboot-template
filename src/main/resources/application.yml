server:
  port: 8000

spring:
  flyway:
    enabled: true
    repair-on-migrate: true

  jpa:
    hibernate:
      ddl-auto: none   # Do NOT create/validate/update schema
    properties:
      hibernate.hbm2ddl.auto: none   # Disables Hibernate checks
      javax.persistence.validation.mode: none  # Skip JPA validation
    show-sql: true

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:123456}
      timeout: 2000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:your-256-bit-secret-key-change-this-in-production-environment-make-it-long-enough}
  expiration: 86400000  # 24 hours in milliseconds
  refresh-expiration: 604800000  # 7 days in milliseconds
  temp-session-expiration: 600000  # 10 minutes in milliseconds

# OTP Configuration
otp:
  length: 6
  expiration-seconds: 600  # 10 minutes
  log-file-path: logs/otp
  redis-key-prefix: "otp"  # Keys will be: {tenantId}:otp:{phone}

# CORS Configuration
cors:
  allowed-origins:
    - http://localhost:4200
    - http://localhost:3000

tenants:
  tenantsData:
    tenant1:
      databaseConnection:
        url: jdbc:mysql://localhost:3306/tenant1?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
        username: root
        password: phpdev@Ks1
        driverClassName: com.mysql.cj.jdbc.Driver

    tenant2:
      databaseConnection:
        url: jdbc:mysql://localhost:3306/tenant2?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
        username: root
        password: phpdev@Ks1
        driverClassName: com.mysql.cj.jdbc.Driver

logging:
  level:
    com:
      multitenant:
        menu: DEBUG
